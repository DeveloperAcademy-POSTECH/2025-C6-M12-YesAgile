/*
 ===================================================================================
 [File Name] : JourneyMapViewModel.swift
 [Role]      : 지도 UI(카메라 이동, 내 위치 추적)를 제어하는 상태 관리 (Pure Logic)
 [Layer]     : ViewModel (Component Level)
 ===================================================================================
 
 [핵심 책임 (Core Responsibilities)]
 1. **Camera State**: 지도가 현재 어디를 비추고 있는지(위도, 경도, 줌 레벨)를 관리합니다.
 2. **Location Tracking**: 사용자의 현재 위치(GPS) 권한을 확인하고 추적합니다.
 3. **Movement Logic**: "내 위치로 이동" 버튼을 눌렀을 때 카메라를 부드럽게 옮기는 애니메이션 로직을 수행합니다.
 
 [설계 원칙 (Design Principles)]
 1. **데이터 몰라요**: 이 뷰모델은 지도 위에 찍힐 핀(Annotation) 데이터는 모릅니다. 오직 '지도 판' 그 자체만 제어합니다.
 2. **MapKit 의존성 격리**: 복잡한 지도 관련 설정과 상태 관리를 이곳에 모아두어, 메인 뷰모델을 가볍게 유지합니다.
 */

// TODO: Import 필요한 프레임워크 (SwiftUI, MapKit, CoreLocation)

// TODO: Class 선언 (@Observable, @MainActor)

    // MARK: - 1. State (상태)
    /*
     - cameraPosition: MapCameraPosition (지도가 비추고 있는 현재 카메라 위치)
       * 초기값: 서울 시청 또는 사용자의 마지막 위치 등으로 설정합니다.
       * 뷰(View)의 `Map(position: $...)`과 바인딩되어 실시간으로 연동됩니다.
     
     - locationManager: LocationManager (위치 서비스 관리 객체)
       * 앱이 켜지면 위치 권한을 요청하고 GPS 신호를 수신하기 시작합니다.
     */
    
    // MARK: - 2. Initializer
    /*
     - init(): 뷰모델이 생성될 때 `locationManager`를 통해 위치 업데이트를 시작합니다.
       * 초기 카메라 위치를 설정합니다.
     */
    
    // MARK: - 3. Actions (기능)
    
    /*
     [moveToCurrentLocation()]
     - 나침반 버튼을 눌렀을 때 호출되는 함수입니다.
     - `locationManager`에서 현재 내 좌표를 가져와서 `cameraPosition`을 업데이트합니다.
     - `withAnimation`을 사용하여 지도가 '스르륵' 움직이도록 처리합니다.
     */
    
    // MARK: - 🗺️ JourneyMapViewModel: "드론 카메라 감독"
    /*
     이 뷰모델은 **데이터(핀)**가 무엇인지는 중요하지 않습니다. 오직 **지도를 비추는 카메라의 위치와 움직임**만 담당합니다.

     비유: [드론 조종사]
     - 이 조종사는 땅 위에 무엇이 있는지(여정 핀)는 신경 쓰지 않습니다. 오직 **"카메라를 어디로 비출지", "얼마나 확대(Zoom)할지"**에만 집중합니다.
     - 사용자가 "내 위치로!"라고 외치면, GPS 신호를 잡아서 드론을 사용자 머리 위로 부드럽게 이동시키는 역할을 합니다.

     왜 이렇게 분리했나요? (Why)
     - 상태의 분리: 지도는 일반적인 화면과 달리 '카메라 좌표', '줌 레벨', 'GPS 권한' 등 관리해야 할 고유의 상태가 많습니다. 이를 메인 뷰모델에 섞으면 코드가 비대해집니다.
     - 역할의 명확화: "지도가 이상하게 움직여요"라는 버그가 생기면, 데이터를 볼 필요 없이 이 조종사(ViewModel)만 문책하면 됩니다.

     하는 일 (Responsibility)
     - 카메라 제어: 앱이 켜지면 서울 시청을 비추고 있을지, 사용자 위치를 비추고 있을지 결정합니다.
     - GPS 수신: 사용자의 현재 위치 권한을 확인하고, 좌표를 계속 추적합니다.
     - 이동 명령 수행: 나침반 버튼을 누르면 카메라를 현재 위치로 '슉-' 하고 이동시킵니다.
     */
